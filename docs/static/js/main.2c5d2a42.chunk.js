(this["webpackJsonpfamily-live"]=this["webpackJsonpfamily-live"]||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},167:function(e,t,n){},174:function(e,t){},176:function(e,t){},187:function(e,t){},189:function(e,t){},214:function(e,t){},216:function(e,t){},217:function(e,t){},222:function(e,t){},224:function(e,t){},230:function(e,t){},232:function(e,t){},251:function(e,t){},263:function(e,t){},266:function(e,t){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),s=n(152),r=n.n(s),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(163);var l=n(2),j=n(5),u=n(10),d=n(11),b=(n(164),n(14)),h=n(7),O=a.a.createContext({});function m(e){var t=e.children,n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1];return Object(h.jsx)(O.Provider,{value:{user:s,setuser:r},children:t})}var f=O,p=n(1),x=n.n(p),v=n(4),g=n(6),w=n(22),y=(n(167),n(41)),N=n(20),k={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_API_KEY,authDomain:"family-live.firebaseapp.com",projectId:"family-live",storageBucket:"family-live.appspot.com",messagingSenderId:"932929592942",appId:"1:932929592942:web:6270297ecc3f7a2011907f",measurementId:"G-X8HTL0VBVV"},S=Object(y.b)(k),C=Object(N.c)(S),D=n(68),E=n.n(D),_=E.a.genSaltSync(10);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=E.a.hashSync(e,t);return n}function I(e,t){return E.a.compareSync(e,t)}function W(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(x.a.mark((function e(t){var n,c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,c=t.password,a=Object(N.a)(C,"usuarios",n),e.next=4,Object(N.b)(a);case 4:if(s=e.sent,console.log(s.data().password),console.log(F(c)),!s.exists()||!I(c,s.data().password)){e.next=12;break}return console.log("Document data:",s.data()),e.abrupt("return",s.data());case 12:throw console.log("No such document!"),new Error("Login Failed!");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=JSON.parse(localStorage.getItem(e));return t&&(new Date).getTime()<t.ttl?t.data:null}function A(e,t){var n={data:t,ttl:(new Date).getTime()+864e5};localStorage.setItem(e,JSON.stringify(n))}var P="userInfo";function M(e){var t=L(P);return!!t&&(console.log(t,"true",e),!0)}function R(e){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(x.a.mark((function e(t){var n,c,a,s,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,c=t.password,a=t.email,s=Object(N.a)(C,"usuarios",n),e.next=4,Object(N.b)(s);case 4:if(!(r=e.sent).exists()){e.next=10;break}throw console.log("Document data exists!",r.data()),new Error("Login Failed!");case 10:return o=_,e.next=13,Object(N.g)(Object(N.a)(C,"usuarios",n),{username:n,email:a,password:F(c,o)});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=n(16),U=n(33);function H(e){var t=Object(c.useState)({username:"",password:""}),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(B.g)(),o=Object(c.useContext)(f),i=(o.user,o.setuser);function l(e){var t=e.target,n=t.id,c=t.value;s((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(g.a)({},n,c))}))}function j(){return j=Object(v.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={username:a.username,password:a.password},console.log(n),e.prev=3,e.next=6,W(n);case 6:c=e.sent,console.log(c),A(P,a.username),i(c),r.push("/home"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),alert(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),j.apply(this,arguments)}return M()?Object(h.jsx)(B.a,{to:"/home"}):Object(h.jsxs)("div",{className:"container-login",children:[Object(h.jsx)("div",{className:"login-logo"}),Object(h.jsx)("div",{className:"login-page",children:Object(h.jsx)("div",{className:"form",children:Object(h.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},className:"login-form",children:[Object(h.jsx)("input",{type:"text",id:"username",placeholder:"username or email",value:a.username,onChange:l}),Object(h.jsx)("input",{type:"password",id:"password",placeholder:"password",value:a.password,onChange:l}),Object(h.jsx)("button",{disabled:!(a.username.length>0&&a.password.length>0),children:"login"}),Object(h.jsxs)("p",{className:"message",children:["Not registered? ",Object(h.jsx)(U.b,{to:"/register",children:"Create an account"})]})]})})})]})}var J=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),K=function(){var e=Object(c.useContext)(f),t=(e.user,e.setuser),n=Object(B.g)(),a=Object(c.useState)({username:null,password:null,email:null,errors:{username:"",password:"",email:""}}),s=Object(b.a)(a,2),r=s[0],o=s[1];function i(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t}function l(){return(l=Object(v.a)(x.a.mark((function e(c){var a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a={username:r.username,password:r.password,email:r.email},console.log(a),!i(r.errors)){e.next=18;break}return console.info("Valid Form"),e.prev=5,e.next=8,R(a);case 8:s=e.sent,t(s),n.push("/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),alert(e.t0);case 16:e.next=19;break;case 18:console.error("Invalid Form");case 19:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}return{state:r,handleChange:function(e){var t=e.target,n=t.id,c=t.value,a=r.errors;switch(n){case"username":a.username=c.length<5?"Username debe ser mayor a 4 caracteres":"";break;case"email":a.email=J.test(c)?"":"Email is not valid!";break;case"password":a.password=c.length<8?"Password must be at least 8 characters long!":""}o((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(g.a)({},n,c))}))},handleSubmit:function(e){return l.apply(this,arguments)}}};function G(){var e=K(),t=e.state,n=e.handleChange,c=e.handleSubmit,a=t.errors;return Object(h.jsxs)("div",{className:"container-login",children:[Object(h.jsx)("div",{className:"login-logo"}),Object(h.jsx)("div",{className:"login-page",children:Object(h.jsx)("div",{className:"form",children:Object(h.jsxs)("form",{onSubmit:c,className:"register-form",children:[Object(h.jsx)("input",{type:"text",id:"username",placeholder:"username",value:t.username,onChange:n,noValidate:!0}),a.username.length>0&&Object(h.jsxs)("span",{className:"error",children:["* ",a.username]}),Object(h.jsx)("input",{type:"email",id:"email",placeholder:"email address",value:t.email,onChange:n,noValidate:!0}),a.email.length>0&&Object(h.jsxs)("span",{className:"error",children:["* ",a.email]}),Object(h.jsx)("input",{type:"password",id:"password",placeholder:"password",value:t.password,onChange:n,noValidate:!0}),a.password.length>0&&Object(h.jsxs)("span",{className:"error",children:["* ",a.password]}),Object(h.jsx)("button",{children:"create"}),Object(h.jsxs)("p",{className:"message",children:["Already registered? ",Object(h.jsx)(U.b,{to:"/login",children:"Login"})]})]})})})]})}n(276),n(277);function Y(){var e=(new Date).toLocaleString("default",{month:"long"});return Object(h.jsx)("div",{className:"calendar-title-month",children:e.toUpperCase()})}var $=n(17);function z(e){for(var t=e.configDays,n=0,c=[],a=1;a<=7;a++)t<=a?c.push(Object(h.jsx)("li",{className:"day ",children:Object(h.jsx)("span",{className:"day__number",children:++n})},a)):c.push(Object(h.jsx)("li",{className:"day day--empty"},a));return Object(h.jsx)("li",{className:"week",children:Object(h.jsx)("ol",{className:"days",children:c})})}function X(e){for(var t=e.lastMonthDay,n=e.contMonthDay,c=[],a=1;a<=7;a++)n>=a?c.push(Object(h.jsx)("li",{className:"day ",children:Object(h.jsx)("span",{className:"day__number",children:t-(n-a)})},t-(n-a))):c.push(Object(h.jsx)("li",{className:"day day--empty"},"empty".concat(a)));return Object(h.jsx)("li",{className:"week",children:Object(h.jsx)("ol",{className:"days",children:c})})}function q(e){for(var t=e.firstWeekDay,n=e.lastWeekDay,c=[],a=t;a<=n;a++)c.push(Object(h.jsx)("li",{className:"day ",children:Object(h.jsx)("span",{className:"day__number",children:a})},a));return Object(h.jsx)("li",{className:"week",children:Object(h.jsx)("ol",{className:"days",children:c})})}function Q(){var e,t=new Date,n=t.getFullYear(),c=t.getMonth()+1,a=new Date(n,c-1,1),s=new Date(n,c,0),r=a.getDay()+s.getDate(),o=a.getDay(),i=s.getDate(),l=s.getDay(),j=Object($.a)(Array(Math.ceil(r/7)).keys());return j.map((function(t,n){if(0===t)e=Object(h.jsx)(z,{configDays:o},t);else if(j.length-1===n){var c={lastMonthDay:i,contMonthDay:l};e=Object(h.jsx)(X,Object(w.a)({},c),t)}else{var a={firstWeekDay:7*t-(o-2),lastWeekDay:7*t-(o-2)+6};e=Object(h.jsx)(q,Object(w.a)({},a),t)}return e}))}function Z(e){e.header;return Object(h.jsx)("li",{className:"week",children:Object(h.jsx)("ol",{className:"days",children:["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"].map((function(e){return Object(h.jsx)("div",{className:"week__header",children:e},e)}))})})}function ee(){return Object(h.jsx)("div",{children:Object(h.jsxs)("ol",{className:"calendar-month",children:[Object(h.jsx)(Y,{}),Object(h.jsx)(Z,{}),Object(h.jsx)(Q,{})]})})}n(278);function te(){return Object(h.jsx)("div",{children:Object(h.jsxs)("section",{className:"cards",children:[Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("p",{children:"content for card one"})}),Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("p",{children:"content for card two"})}),Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("p",{children:"content for card three"})}),Object(h.jsx)("div",{className:"card",children:Object(h.jsx)("p",{children:"content for card four"})})]})})}n(279);function ne(){var e=L(P);return Object(h.jsx)("div",{children:Object(h.jsxs)("h1",{children:["Hola ",e," !"]})})}var ce=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ne,{}),Object(h.jsx)(te,{}),Object(h.jsx)(ee,{})]})},ae=n(155);n(280);function se(){var e=Object(B.g)(),t=Object(c.useContext)(f),n=(t.user,t.setuser);return Object(h.jsx)("div",{children:Object(h.jsx)(ae.a,{className:"icon",onClick:function(t){var c;c=P,localStorage.getItem(c)&&localStorage.clear(c),n({}),e.replace("/login")}})})}n(281);function re(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("div",{className:"logo",children:"LOGO"}),Object(h.jsxs)("ul",{className:"nav-links",children:[Object(h.jsx)("input",{type:"checkbox",id:"checkbox_toggle"}),Object(h.jsx)("label",{htmlFor:"checkbox_toggle",className:"hamburger",children:"\u2630"}),Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)("li",{children:Object(h.jsx)(U.b,{to:"/home",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(U.b,{to:"/notes",children:"Notas"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Calendario"})}),Object(h.jsxs)("li",{className:"services",children:["Economia",Object(h.jsxs)("ul",{className:"dropdown",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Gastos"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Ingresos"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Facturas"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Presupuestos"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Ahorro"})})]})]}),Object(h.jsx)("li",{className:"nohover",children:Object(h.jsx)(se,{})})]})]})]})}var oe=function(e){var t=e.children;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(re,{}),t]})},ie=function(e){var t=e.children;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"Principal",children:[Object(h.jsx)("div",{className:"leftSide"}),Object(h.jsx)("div",{className:"centerContent",children:t}),Object(h.jsx)("div",{className:"rightSide"})]})})},le=n(156),je=(n(282),function(e){var t=e.children,n=e.handleClick,c=e.icon,a=e.customClass;e.Component;return Object(h.jsxs)("button",{className:"btn ".concat(a," || btn-complementary"),onClick:n,children:[t,c&&Object(h.jsx)(le.a,{style:{fontSize:"1.5em",marginLeft:"1em",width:"1em",fontWeight:"bolder"}})]})}),ue=(n(283),{list:{title:"lista"},rec:{title:"recordatorio"}}),de=function(e){var t=e.handleSave,n=e.handleClose,c=e.show,a=e.type,s=(e.children,e.customClass),r=e.component,o=c?"modal display-block":"modal display-none",i=a.type?ue[a.type].title:"";return Object(h.jsx)("div",{className:o,children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),Object(h.jsxs)("h2",{children:[a.header," ",i]})]}),Object(h.jsx)("div",{className:"modal-body ".concat(s),children:r}),Object(h.jsx)("div",{className:"modal-footer",children:Object(h.jsx)(je,{handleClick:t,children:"Guardar"})})]})})},be=(n(284),function(e){var t=e.items,n=e.onAddItems,a=Object(c.useState)([]),s=Object(b.a)(a,2),r=s[0],o=s[1];Object(c.useEffect)((function(){0===t.length&&o([])}),[t]);return Object(h.jsxs)(h.Fragment,{children:[r.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)("input",{type:"text",name:"item",onChange:function(e){return function(e,t){var c=Object($.a)(r);c[e][t.target.name]=t.target.value,o(c),n(r)}(t,e)}},t)},t)})),Object(h.jsx)("div",{className:"button-section",children:Object(h.jsx)("button",{className:"button add",type:"button",onClick:function(){o([].concat(Object($.a)(r),[{item:""}]))},children:"Add"})})]})});function he(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(v.a)(x.a.mark((function e(t){var n,c,a,s,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.items,c=t.username,a=t.title,console.log(c),s=Object(N.a)(C,"notas",c,"notas",a),e.next=5,Object(N.b)(s);case 5:if(!(r=e.sent).exists()){e.next=12;break}return console.log(r.data()),e.next=10,Object(N.g)(Object(N.a)(C,"notas",c,"notas",a),{items:n});case 10:e.next=13;break;case 12:console.log("No such document!");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),r=Object(b.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)([]),j=Object(b.a)(l,2),u=j[0],d=j[1],O=function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Save NOTE"),e.next=3,he({items:u,username:"jfcaballero",title:"nota1"});case 3:m();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){a(!1)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(je,{handleClick:function(){i(Object(w.a)(Object(w.a)({},o),{},{type:"list",header:"Nueva"})),a(!0)},children:"Nueva lista"}),Object(h.jsx)(je,{handleClick:function(){i(Object(w.a)(Object(w.a)({},o),{},{type:"rec",header:"Nuevo"})),a(!0)},children:"Nuevo recordatorio"}),Object(h.jsx)(de,{customClass:"noteBody",show:n,type:o,handleClose:m,handleSave:O,component:Object(h.jsx)(be,{onAddItems:function(e){d(e)},items:u})}),Object(h.jsx)("h1",{children:"Notas de la familia: "})]})},fe=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(oe,{children:Object(h.jsx)(ie,{children:Object(h.jsxs)(B.d,{children:[Object(h.jsx)(B.b,{exact:!0,path:"/home",component:ce}),Object(h.jsx)(B.b,{exact:!0,path:"/notes",component:me}),Object(h.jsx)(B.a,{to:"/home"})]})})})})},pe=n(67),xe=["component"],ve=function(e){var t=e.component,n=Object(pe.a)(e,xe);return Object(h.jsx)(B.b,Object(w.a)(Object(w.a)({},n),{},{component:function(e){return M("privateRoutes")?Object(h.jsx)(t,Object(w.a)({},e)):Object(h.jsx)(B.a,{to:"/login"})}}))},ge=["component"],we=function(e){var t=e.component,n=Object(pe.a)(e,ge);return Object(h.jsx)(B.b,Object(w.a)(Object(w.a)({},n),{},{component:function(e){return M("PublicRoutes")?Object(h.jsx)(B.a,{to:"/"}):Object(h.jsx)(t,Object(w.a)({},e))}}))},ye=function(){return Object(h.jsx)(U.a,{children:Object(h.jsxs)(B.d,{children:[Object(h.jsx)(we,{path:"/login",component:H}),Object(h.jsx)(we,{path:"/register",component:G}),Object(h.jsx)(ve,{path:"/",component:fe})]})})},Ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(h.jsx)(m,{children:Object(h.jsx)(ye,{})})}}]),n}(c.Component),ke=Ne,Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},Ce=n(158);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Ce.a,{firebaseConfig:k,children:Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)("p",{children:"Cargando..."}),children:Object(h.jsx)(ke,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):i(t,e)}))}}(),Se()}},[[285,1,2]]]);
//# sourceMappingURL=main.2c5d2a42.chunk.js.map